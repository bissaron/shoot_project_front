{"ast":null,"code":"import Swal from \"sweetalert2\";\nexport default {\n  data() {\n    return {\n      auth: \"\",\n      c_id: null,\n      items: null\n    };\n  },\n  created() {\n    this.auth = JSON.parse(localStorage.getItem(\"auth\"));\n    this.c_id = this.auth.c_id;\n    this.getDetail();\n  },\n  methods: {\n    async getDetail() {\n      try {\n        const response = await this.axios.get(process.env.VUE_APP_API_SERVER + `/reserves`);\n        if (response.status === 200) {\n          this.items = response.data.filter(item => item.customer.c_id === this.c_id);\n          this.items = this.items[0];\n          console.log(\"items\", this.items);\n        }\n      } catch (error) {\n        console.error(\"Registration error:\", error);\n      }\n    },\n    async cancel(Rid) {\n      Swal.fire({\n        title: \"แจ้งเตือน!\",\n        text: `คุณต้องการยกเลิกการจอง?`,\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonText: \"ตกลง\",\n        cancelButtonText: \"ยกเลิก\"\n      }).then(async result => {\n        if (result.isConfirmed) {\n          try {\n            const response = await this.axios.delete(process.env.VUE_APP_API_SERVER + `/reserve/${Rid}`);\n            if (response.status === 200) {\n              Swal.fire({\n                title: \"ยกเลิกกาารจองสำเร็จ!\",\n                // text: \"คุณสมัครสมาชิกสำเร็จ\",\n                icon: \"success\",\n                confirmButtonText: \"ตกลง\",\n                timer: 1500\n              }).then(() => window.location.reload());\n            }\n          } catch (err) {\n            Swal.fire({\n              title: \"เกิดข้อผิดพลาด!\",\n              // text: \"คุณสมัครสมาชิกสำเร็จ\",\n              icon: \"error\",\n              confirmButtonText: \"ตกลง\",\n              timer: 1500\n            });\n            console.error(err);\n          }\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["Swal","data","auth","c_id","items","created","JSON","parse","localStorage","getItem","getDetail","methods","response","axios","get","process","env","VUE_APP_API_SERVER","status","filter","item","customer","console","log","error","cancel","Rid","fire","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","then","result","isConfirmed","delete","timer","window","location","reload","err"],"sources":["src/views/ReserveDetailView.vue"],"sourcesContent":["<template>\n  <v-container style=\"padding-top: 50px; padding-bottom: 60px\">\n    <v-btn text @click=\"$router.go(-1)\" class=\"back-button\">\n      <v-icon left>mdi-arrow-left</v-icon> ย้อนกลับ\n    </v-btn>\n    <v-row justify=\"center\">\n      <h2 class=\"header-title\">ข้อมูลการจอง</h2>\n    </v-row>\n    <v-row justify=\"center\">\n      <h2 class=\"header-title\">{{ auth.c_fname }}&nbsp;</h2>\n      <h2 class=\"header-title\">{{ auth.c_lname }}</h2>\n    </v-row>\n\n    <v-row justify=\"center\">\n      <v-col cols=\"12\" xs=\"12\" sm=\"12\" md=\"12\">\n        <v-card class=\"card\" v-if=\"items\">\n          <v-card-title\n            class=\"card-title\"\n            style=\"display: flex; justify-content: space-between\"\n            >{{ items.shootingRange.s_name }}\n            <v-btn style=\"background-color: var(--color-red); color: var(--color-white)\" @click=\"cancel(items.r_id)\"\n              >ยกเลิกการจอง</v-btn\n            ></v-card-title\n          >\n          <v-card-text\n            ><strong>วันที่จอง:</strong> {{ items.r_date_reserve }}</v-card-text\n          >\n          <v-card-text\n            ><strong>เวลาที่จอง:</strong>\n            {{ items.r_time_reserve }}</v-card-text\n          >\n          <v-card-text><strong>ปืน:</strong></v-card-text>\n          <v-card-text\n            v-for=\"gun in items.guns\"\n            :key=\"gun.id\"\n            style=\"display: inline\"\n            >{{ gun }},</v-card-text\n          >\n        </v-card>\n        <v-card class=\"no-data-card\" v-if=\"!items\">\n          <v-card-title>ยังไม่มีข้อมูลการจองสนาม</v-card-title>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n<script>\nimport Swal from \"sweetalert2\";\nexport default {\n  data() {\n    return {\n      auth: \"\",\n      c_id: null,\n      items: null,\n    };\n  },\n  created() {\n    this.auth = JSON.parse(localStorage.getItem(\"auth\"));\n    this.c_id = this.auth.c_id;\n    this.getDetail();\n  },\n  methods: {\n    async getDetail() {\n      try {\n        const response = await this.axios.get(\n          process.env.VUE_APP_API_SERVER + `/reserves`\n        );\n        if (response.status === 200) {\n          this.items = response.data.filter(\n            (item) => item.customer.c_id === this.c_id\n          );\n          this.items = this.items[0];\n          console.log(\"items\", this.items);\n        }\n      } catch (error) {\n        console.error(\"Registration error:\", error);\n      }\n    },\n    async cancel(Rid) {\n      Swal.fire({\n        title: \"แจ้งเตือน!\",\n        text: `คุณต้องการยกเลิกการจอง?`,\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonText: \"ตกลง\",\n        cancelButtonText: \"ยกเลิก\",\n      }).then(async (result) => {\n        if (result.isConfirmed) {\n          try {\n            const response = await this.axios.delete(\n              process.env.VUE_APP_API_SERVER + `/reserve/${Rid}`\n            );\n            if (response.status === 200) {\n              Swal.fire({\n                title: \"ยกเลิกกาารจองสำเร็จ!\",\n                // text: \"คุณสมัครสมาชิกสำเร็จ\",\n                icon: \"success\",\n                confirmButtonText: \"ตกลง\",\n                timer: 1500,\n              }).then(() => window.location.reload());\n            }\n          } catch (err) {\n            Swal.fire({\n              title: \"เกิดข้อผิดพลาด!\",\n              // text: \"คุณสมัครสมาชิกสำเร็จ\",\n              icon: \"error\",\n              confirmButtonText: \"ตกลง\",\n              timer: 1500,\n            });\n            console.error(err);\n          }\n        }\n      });\n    },\n  },\n};\n</script>\n<style scoped>\na {\n  text-decoration: none;\n}\n\na:hover .card {\n  background-color: var(--color-main);\n}\n.back-button {\n  margin-bottom: 20px;\n}\n\n.header-title {\n  font-size: 24px;\n  color: #333;\n}\n\n.card {\n  margin: 20px;\n  padding: 20px;\n  padding-bottom: 30px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  background-color: #fff;\n}\n\n.card-title {\n  font-size: 20px;\n  font-weight: bold;\n}\n\n.no-data-card {\n  margin: 20px;\n  padding: 20px;\n  /* border: 1px solid #ccc; */\n  border-radius: 5px;\n  /* background-color: #f0f0f0; */\n  display: flex;\n  justify-content: center;\n  text-align: center;\n  color: #333;\n}\n</style>\n"],"mappings":"AA+CA,OAAAA,IAAA;AACA;EACAC,KAAA;IACA;MACAC,IAAA;MACAC,IAAA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAH,IAAA,GAAAI,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA,KAAAN,IAAA,QAAAD,IAAA,CAAAC,IAAA;IACA,KAAAO,SAAA;EACA;EACAC,OAAA;IACA,MAAAD,UAAA;MACA;QACA,MAAAE,QAAA,cAAAC,KAAA,CAAAC,GAAA,CACAC,OAAA,CAAAC,GAAA,CAAAC,kBAAA,cACA;QACA,IAAAL,QAAA,CAAAM,MAAA;UACA,KAAAd,KAAA,GAAAQ,QAAA,CAAAX,IAAA,CAAAkB,MAAA,CACAC,IAAA,IAAAA,IAAA,CAAAC,QAAA,CAAAlB,IAAA,UAAAA,IACA;UACA,KAAAC,KAAA,QAAAA,KAAA;UACAkB,OAAA,CAAAC,GAAA,eAAAnB,KAAA;QACA;MACA,SAAAoB,KAAA;QACAF,OAAA,CAAAE,KAAA,wBAAAA,KAAA;MACA;IACA;IACA,MAAAC,OAAAC,GAAA;MACA1B,IAAA,CAAA2B,IAAA;QACAC,KAAA;QACAC,IAAA;QACAC,IAAA;QACAC,gBAAA;QACAC,iBAAA;QACAC,gBAAA;MACA,GAAAC,IAAA,OAAAC,MAAA;QACA,IAAAA,MAAA,CAAAC,WAAA;UACA;YACA,MAAAxB,QAAA,cAAAC,KAAA,CAAAwB,MAAA,CACAtB,OAAA,CAAAC,GAAA,CAAAC,kBAAA,eAAAS,GAAA,EACA;YACA,IAAAd,QAAA,CAAAM,MAAA;cACAlB,IAAA,CAAA2B,IAAA;gBACAC,KAAA;gBACA;gBACAE,IAAA;gBACAE,iBAAA;gBACAM,KAAA;cACA,GAAAJ,IAAA,OAAAK,MAAA,CAAAC,QAAA,CAAAC,MAAA;YACA;UACA,SAAAC,GAAA;YACA1C,IAAA,CAAA2B,IAAA;cACAC,KAAA;cACA;cACAE,IAAA;cACAE,iBAAA;cACAM,KAAA;YACA;YACAhB,OAAA,CAAAE,KAAA,CAAAkB,GAAA;UACA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}